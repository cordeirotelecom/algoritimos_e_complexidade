<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>🔀 Plataforma Profissional de Algoritmos de Ordenação - Prof. Vagner Cordeiro</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/professional-style.css">
  <style>
    /* Complementos específicos da página */
    .info-panel {
      background: var(--gradient-card);
      border-radius: var(--border-radius-lg);
      padding: var(--spacing-xl);
      margin-bottom: var(--spacing-xl);
      border: 1px solid var(--neutral-200);
      box-shadow: var(--shadow-lg);
      transition: var(--transition-normal);
    }

    .info-panel.sorting {
      border-color: var(--info-500);
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    .speed-indicator {
      display: flex;
      align-items: center;
      gap: var(--spacing-md);
      margin-top: var(--spacing-sm);
    }

    .speed-track {
      flex: 1;
      height: 4px;
      background: var(--neutral-200);
      border-radius: 2px;
      position: relative;
    }

    .speed-label {
      font-size: 0.75rem;
      font-weight: 500;
      color: var(--neutral-500);
    }

    .visualization-legend {
      display: flex;
      justify-content: center;
      gap: var(--spacing-lg);
      margin-top: var(--spacing-lg);
      padding: var(--spacing-md);
      background: var(--neutral-50);
      border-radius: var(--border-radius-md);
      border: 1px solid var(--neutral-200);
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: var(--spacing-sm);
      font-size: 0.875rem;
      font-weight: 500;
    }

    .legend-color {
      width: 16px;
      height: 16px;
      border-radius: var(--border-radius-sm);
      border: 1px solid rgba(0, 0, 0, 0.1);
    }

    .legend-color.comparing {
      background: var(--gradient-warning);
    }

    .legend-color.active {
      background: var(--gradient-error);
    }

    .legend-color.sorted {
      background: var(--gradient-success);
    }

    .legend-color.pivot {
      background: linear-gradient(135deg, var(--accent-purple-700) 0%, var(--accent-purple-600) 100%);
    }

    .description {
      font-size: 0.75rem;
      color: var(--neutral-500);
      font-weight: 400;
    }

    .technical-panel {
      display: none;
      background: var(--gradient-card);
      border-radius: var(--border-radius-lg);
      padding: var(--spacing-xl);
      margin-top: var(--spacing-xl);
      border: 1px solid var(--neutral-200);
      box-shadow: var(--shadow-lg);
    }

    .technical-panel.active {
      display: block;
    }

    .code-block {
      background: var(--neutral-900);
      color: var(--neutral-100);
      padding: var(--spacing-lg);
      border-radius: var(--border-radius-md);
      font-family: var(--font-family-mono);
      font-size: 0.875rem;
      overflow-x: auto;
      margin: var(--spacing-md) 0;
    }

    .complexity-table {
      width: 100%;
      border-collapse: collapse;
      margin: var(--spacing-lg) 0;
      background: white;
      border-radius: var(--border-radius-md);
      overflow: hidden;
      box-shadow: var(--shadow-sm);
    }

    .complexity-table th,
    .complexity-table td {
      padding: var(--spacing-md);
      text-align: center;
      border-bottom: 1px solid var(--neutral-200);
    }

    .complexity-table th {
      background: var(--gradient-primary);
      color: white;
      font-weight: 600;
      font-size: 0.875rem;
    }

    .complexity-table td {
      font-family: var(--font-family-mono);
      font-weight: 500;
    }

    .mode-controls {
      background: var(--gradient-card);
      border-radius: var(--border-radius-lg);
      padding: var(--spacing-xl);
      margin-bottom: var(--spacing-xl);
      border: 1px solid var(--neutral-200);
    }

    .mode-section h3 {
      font-size: 1.125rem;
      font-weight: 600;
      color: var(--neutral-700);
      margin-bottom: var(--spacing-md);
      display: flex;
      align-items: center;
      gap: var(--spacing-sm);
    }

    .visualization-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: var(--spacing-lg);
    }

    .visualization-header h3 {
      font-size: 1.25rem;
      font-weight: 600;
      color: var(--neutral-700);
    }

    .view-modes {
      display: flex;
      gap: var(--spacing-sm);
    }

    @media (max-width: 768px) {
      .container {
        padding: var(--spacing-lg);
        margin: var(--spacing-md);
      }

      .header h1 {
        font-size: 2rem;
      }

      .header h2 {
        font-size: 1.125rem;
      }

      .controls {
        grid-template-columns: 1fr;
      }

      .stats {
        grid-template-columns: repeat(2, 1fr);
      }

      .button-group {
        flex-direction: column;
      }

      .visualization-header {
        flex-direction: column;
        gap: var(--spacing-md);
        align-items: stretch;
      }

      .visualization-legend {
        flex-wrap: wrap;
        gap: var(--spacing-md);
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- === HEADER PROFISSIONAL === -->
    <div class="header">
      <h1>🔀 Plataforma Profissional de Algoritmos</h1>
      <h2>Visualização Interativa e Análise Técnica Avançada de Algoritmos de Ordenação</h2>
      <div class="author">Prof. Vagner Cordeiro | Análise de Algoritmos e Complexidade</div>
    </div>

    <!-- === CONTROLES AVANÇADOS === -->
    <div class="controls">
      <div class="control-group">
        <label><span class="emoji">🎯</span> Algoritmo</label>
        <select id="algorithm">
          <option value="bubble">Bubble Sort - O(n²)</option>
          <option value="selection">Selection Sort - O(n²)</option>
          <option value="insertion">Insertion Sort - O(n²)</option>
          <option value="quick">Quick Sort - O(n log n)</option>
          <option value="merge">Merge Sort - O(n log n)</option>
          <option value="heap">Heap Sort - O(n log n)</option>
        </select>
      </div>

      <div class="control-group">
        <label><span class="emoji">📊</span> Tamanho do Array</label>
        <input type="number" id="size" value="30" min="5" max="100">
        <input type="range" id="sizeRange" min="5" max="100" value="30">
      </div>

      <div class="control-group">
        <label><span class="emoji">⚡</span> Velocidade</label>
        <input type="range" id="speed" min="5" max="200" value="80">
        <div class="speed-indicator">
          <span class="speed-label">Lenta</span>
          <div class="speed-track"></div>
          <span class="speed-label">Rápida</span>
        </div>
      </div>

      <div class="control-group">
        <label><span class="emoji">🎮</span> Controles</label>
        <div class="button-group">
          <button id="sortBtn" onclick="sort()" class="primary">
            ▶️ Iniciar Ordenação
          </button>
          <button onclick="randomize()" class="secondary">
            🔄 Embaralhar
          </button>
          <button onclick="reset()" class="secondary">
            ⏹️ Resetar
          </button>
        </div>
      </div>
    </div>

    <!-- === MODOS AVANÇADOS === -->
    <div class="mode-controls">
      <div class="mode-section">
        <h3>🎓 Modos Educativos</h3>
        <div class="button-group">
          <button id="tutorialBtn" onclick="toggleTutorial()" class="mode-btn">
            📚 Tutorial Interativo
          </button>
          <button id="codeBtn" onclick="toggleCodeView()" class="mode-btn">
            💻 Visualização de Código
          </button>
          <button id="compareBtn" onclick="toggleComparison()" class="mode-btn">
            📊 Análise Comparativa
          </button>
          <button id="metricsBtn" onclick="toggleMetrics()" class="mode-btn">
            📈 Métricas Avançadas
          </button>
        </div>
      </div>
    </div>

    <!-- === ESTATÍSTICAS EM TEMPO REAL === -->
    <div class="stats">
      <div class="stat">
        <h3>Comparações</h3>
        <div class="value" id="comparisons">0</div>
        <div class="description">Operações de comparação</div>
      </div>
      <div class="stat">
        <h3>Trocas</h3>
        <div class="value" id="swaps">0</div>
        <div class="description">Movimentações de elementos</div>
      </div>
      <div class="stat">
        <h3>Tempo</h3>
        <div class="value" id="timeElapsed">0.0s</div>
        <div class="description">Duração da execução</div>
      </div>
      <div class="stat">
        <h3>Eficiência</h3>
        <div class="value" id="efficiency">-</div>
        <div class="description">Taxa operações/segundo</div>
      </div>
    </div>

    <!-- === VISUALIZAÇÃO PRINCIPAL === -->
    <div class="visualization">
      <div class="visualization-header">
        <h3>Visualização em Tempo Real</h3>
        <div class="visualization-controls">
          <div class="view-modes">
            <button class="mode-btn active" onclick="setVisualizationMode('bars')">📊 Barras</button>
            <button class="mode-btn" onclick="setVisualizationMode('dots')">⚫ Pontos</button>
            <button class="mode-btn" onclick="setVisualizationMode('lines')">📈 Linhas</button>
          </div>
        </div>
      </div>
      <div id="bars" class="bars"></div>
      <div class="visualization-legend">
        <div class="legend-item">
          <div class="legend-color comparing"></div>
          <span>Comparando</span>
        </div>
        <div class="legend-item">
          <div class="legend-color active"></div>
          <span>Elemento Ativo</span>
        </div>
        <div class="legend-item">
          <div class="legend-color sorted"></div>
          <span>Ordenado</span>
        </div>
        <div class="legend-item">
          <div class="legend-color pivot"></div>
          <span>Pivô</span>
        </div>
      </div>
    </div>

    <!-- === PAINEL DE INFORMAÇÕES === -->
    <div id="info" class="info-panel">
      Selecione um algoritmo e clique em "Iniciar Ordenação" para visualizar como funciona em tempo real.
    </div>

    <!-- === TUTORIAL INTERATIVO === -->
    <div id="tutorialPanel" class="technical-panel">
      <h3>📚 Tutorial Interativo</h3>
      <div id="tutorialContent">
        Ative o modo tutorial para receber explicações detalhadas durante a execução do algoritmo.
      </div>
    </div>

    <!-- === VISUALIZAÇÃO DE CÓDIGO === -->
    <div id="codePanel" class="technical-panel">
      <h3>💻 Implementação do Algoritmo</h3>
      <div id="codeContent">
        <h4>Pseudocódigo:</h4>
        <div class="code-block" id="pseudoCode">
          Selecione um algoritmo para ver sua implementação
        </div>
        <h4>Análise de Complexidade:</h4>
        <div id="complexityAnalysis">
          Análise matemática será exibida aqui
        </div>
      </div>
    </div>

    <!-- === ANÁLISE COMPARATIVA === -->
    <div id="comparisonPanel" class="technical-panel">
      <h3>📊 Análise Comparativa dos Algoritmos</h3>
      <table class="complexity-table" id="comparisonTable">
        <thead>
          <tr>
            <th>Algoritmo</th>
            <th>Melhor Caso</th>
            <th>Caso Médio</th>
            <th>Pior Caso</th>
            <th>Espaço</th>
            <th>Estável</th>
            <th>Uso Recomendado</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>Bubble Sort</strong></td>
            <td>O(n)</td>
            <td>O(n²)</td>
            <td>O(n²)</td>
            <td>O(1)</td>
            <td>✅</td>
            <td>Ensino, arrays ≤ 10</td>
          </tr>
          <tr>
            <td><strong>Selection Sort</strong></td>
            <td>O(n²)</td>
            <td>O(n²)</td>
            <td>O(n²)</td>
            <td>O(1)</td>
            <td>❌</td>
            <td>Memória limitada</td>
          </tr>
          <tr>
            <td><strong>Insertion Sort</strong></td>
            <td>O(n)</td>
            <td>O(n²)</td>
            <td>O(n²)</td>
            <td>O(1)</td>
            <td>✅</td>
            <td>Arrays pequenos, quase ordenados</td>
          </tr>
          <tr>
            <td><strong>Quick Sort</strong></td>
            <td>O(n log n)</td>
            <td>O(n log n)</td>
            <td>O(n²)</td>
            <td>O(log n)</td>
            <td>❌</td>
            <td>Uso geral, alta performance</td>
          </tr>
          <tr>
            <td><strong>Merge Sort</strong></td>
            <td>O(n log n)</td>
            <td>O(n log n)</td>
            <td>O(n log n)</td>
            <td>O(n)</td>
            <td>✅</td>
            <td>Arrays grandes, estabilidade necessária</td>
          </tr>
          <tr>
            <td><strong>Heap Sort</strong></td>
            <td>O(n log n)</td>
            <td>O(n log n)</td>
            <td>O(n log n)</td>
            <td>O(1)</td>
            <td>❌</td>
            <td>Performance garantida, espaço limitado</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- === MÉTRICAS AVANÇADAS === -->
    <div id="metricsPanel" class="technical-panel">
      <h3>📈 Métricas e Análise de Performance</h3>
      <div id="metricsContent">
        <div class="stats">
          <div class="stat">
            <h3>Operações/seg</h3>
            <div class="value" id="operationsPerSecond">-</div>
            <div class="description">Taxa de execução</div>
          </div>
          <div class="stat">
            <h3>Eficiência</h3>
            <div class="value" id="efficiencyRating">-</div>
            <div class="description">Rating de performance</div>
          </div>
          <div class="stat">
            <h3>Complexidade Real</h3>
            <div class="value" id="actualComplexity">-</div>
            <div class="description">Medida vs teórica</div>
          </div>
          <div class="stat">
            <h3>Recomendação</h3>
            <div class="value" id="recommendation">-</div>
            <div class="description">Para este tamanho</div>
          </div>
        </div>
      </div>
    </div>

    <!-- === FOOTER === -->
    <footer class="footer">
      <h3>🎓 Plataforma Educacional Profissional</h3>
      <p>Desenvolvido para o curso de <strong>Análise de Algoritmos e Complexidade</strong></p>
      <p>© 2025 Prof. Vagner Cordeiro - Engenharia de Computação</p>
      <div class="social-links">
        <a href="#" class="social-link" title="GitHub">
          <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 0C5.374 0 0 5.373 0 12c0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23A11.509 11.509 0 0112 5.803c1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.3 24 12c0-6.627-5.373-12-12-12z"/>
          </svg>
        </a>
        <a href="#" class="social-link" title="LinkedIn">
          <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
            <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
          </svg>
        </a>
      </div>
    </footer>
  </div>

  <!-- === JAVASCRIPT PROFISSIONAL === -->
  <script src="assets/algorithm-system.js"></script>
  <script>
    // Sincronização de controles
    document.getElementById('size').addEventListener('input', (e) => {
      document.getElementById('sizeRange').value = e.target.value;
    });

    document.getElementById('sizeRange').addEventListener('input', (e) => {
      document.getElementById('size').value = e.target.value;
    });

    // Funções de toggle dos painéis técnicos
    function toggleTutorial() {
      const panel = document.getElementById('tutorialPanel');
      const btn = document.getElementById('tutorialBtn');
      const isActive = panel.classList.toggle('active');
      
      btn.textContent = isActive ? '📚 Tutorial ON' : '📚 Tutorial Interativo';
      btn.style.background = isActive ? 'var(--gradient-success)' : '';
    }

    function toggleCodeView() {
      const panel = document.getElementById('codePanel');
      const btn = document.getElementById('codeBtn');
      const isActive = panel.classList.toggle('active');
      
      btn.textContent = isActive ? '💻 Código ON' : '💻 Visualização de Código';
      btn.style.background = isActive ? 'var(--gradient-success)' : '';
      
      if (isActive) {
        updateCodeView(currentAlgorithm);
      }
    }

    function toggleComparison() {
      const panel = document.getElementById('comparisonPanel');
      const btn = document.getElementById('compareBtn');
      const isActive = panel.classList.toggle('active');
      
      btn.textContent = isActive ? '📊 Comparação ON' : '📊 Análise Comparativa';
      btn.style.background = isActive ? 'var(--gradient-success)' : '';
    }

    function toggleMetrics() {
      const panel = document.getElementById('metricsPanel');
      const btn = document.getElementById('metricsBtn');
      const isActive = panel.classList.toggle('active');
      
      btn.textContent = isActive ? '📈 Métricas ON' : '📈 Métricas Avançadas';
      btn.style.background = isActive ? 'var(--gradient-success)' : '';
    }

    function updateCodeView(algorithm) {
      const pseudoCodes = {
        bubble: `BUBBLE_SORT(A):
  n = length(A)
  for i = 0 to n-2:
    swapped = false
    for j = 0 to n-i-2:
      if A[j] > A[j+1]:
        swap(A[j], A[j+1])
        swapped = true
    if not swapped:
      break`,
        
        selection: `SELECTION_SORT(A):
  n = length(A)
  for i = 0 to n-2:
    min_idx = i
    for j = i+1 to n-1:
      if A[j] < A[min_idx]:
        min_idx = j
    swap(A[i], A[min_idx])`,
        
        insertion: `INSERTION_SORT(A):
  for i = 1 to length(A)-1:
    key = A[i]
    j = i - 1
    while j >= 0 and A[j] > key:
      A[j+1] = A[j]
      j = j - 1
    A[j+1] = key`,
        
        quick: `QUICK_SORT(A, low, high):
  if low < high:
    pivot = PARTITION(A, low, high)
    QUICK_SORT(A, low, pivot-1)
    QUICK_SORT(A, pivot+1, high)

PARTITION(A, low, high):
  pivot = A[high]
  i = low - 1
  for j = low to high-1:
    if A[j] <= pivot:
      i = i + 1
      swap(A[i], A[j])
  swap(A[i+1], A[high])
  return i + 1`,
        
        merge: `MERGE_SORT(A, left, right):
  if left < right:
    mid = (left + right) / 2
    MERGE_SORT(A, left, mid)
    MERGE_SORT(A, mid+1, right)
    MERGE(A, left, mid, right)

MERGE(A, left, mid, right):
  // Cria arrays temporários
  L = A[left...mid]
  R = A[mid+1...right]
  // Mescla ordenadamente
  i = j = 0, k = left
  while i < |L| and j < |R|:
    if L[i] <= R[j]:
      A[k] = L[i++]
    else:
      A[k] = R[j++]
    k++`,
        
        heap: `HEAP_SORT(A):
  BUILD_MAX_HEAP(A)
  for i = length(A)-1 down to 1:
    swap(A[0], A[i])
    MAX_HEAPIFY(A, 0, i)

MAX_HEAPIFY(A, i, heap_size):
  left = 2*i + 1
  right = 2*i + 2
  largest = i
  if left < heap_size and A[left] > A[largest]:
    largest = left
  if right < heap_size and A[right] > A[largest]:
    largest = right
  if largest != i:
    swap(A[i], A[largest])
    MAX_HEAPIFY(A, largest, heap_size)`
      };

      document.getElementById('pseudoCode').textContent = pseudoCodes[algorithm] || 'Código não encontrado';
    }

    // Inicialização
    document.addEventListener('DOMContentLoaded', () => {
      initialize();
    });
  </script>
</body>
</html>